<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HD Sports - Thời Trang & Dụng Cụ Thể Thao</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style> 
        body { font-family: 'Poppins', sans-serif; background-color: #0f172a; color: #e2e8f0; }
        .bg-primary { background-color: #f97316; } .text-primary { color: #f97316; } .border-primary { border-color: #f97316; }
        .bg-primary-hover:hover { background-color: #ea580c; }
        [x-cloak] { display: none !important; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #475569; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }

        .card-hover { transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .card-hover:hover { transform: translateY(-8px); box-shadow: 0 10px 25px rgba(249, 115, 22, 0.1), 0 5px 10px rgba(249, 115, 22, 0.05); }
        .toast { position: fixed; bottom: 1.25rem; right: 1.25rem; padding: 1rem 1.5rem; border-radius: 0.5rem; background-color: #22c55e; color: white; z-index: 100; opacity: 0; transform: translateX(calc(100% + 20px)); transition: opacity 0.4s ease, transform 0.4s cubic-bezier(0.25, 1, 0.5, 1); }
        .toast.show { opacity: 1; transform: translateX(0); }
        .input-field { background-color: #1e293b; border: 1px solid #334155; color: white; border-radius: 0.5rem; padding: 0.75rem 1rem; transition: all 0.2s ease; }
        .input-field:focus { outline: none; border-color: #f97316; box-shadow: 0 0 0 2px rgba(249, 115, 22, 0.5); }
        .btn { padding: 0.6rem 1.25rem; border-radius: 0.5rem; font-weight: 600; text-align: center; transition: all 0.2s ease; cursor: pointer; }
        .btn-primary { background-color: #f97316; color: white; } .btn-primary:hover { background-color: #ea580c; }
        .btn-secondary { background-color: #334155; color: white; } .btn-secondary:hover { background-color: #475569; }
        .option-btn { border: 1px solid #475569; padding: 0.5rem 1rem; border-radius: 0.5rem; transition: all 0.2s ease; }
        .option-btn.selected { border-color: #f97316; background-color: #f97316; color: white; }
        .horizontal-scroll { display: grid; grid-auto-flow: column; grid-auto-columns: 80%; overflow-x: auto; gap: 1.5rem; scroll-snap-type: x mandatory; }
        @media (min-width: 640px) { .horizontal-scroll { grid-auto-columns: 45%; } }
        @media (min-width: 1024px) { .horizontal-scroll { grid-auto-columns: 30%; } }
        @media (min-width: 1280px) { .horizontal-scroll { grid-auto-columns: 22%; } }
        .horizontal-scroll > * { scroll-snap-align: start; }
    </style>
</head>
<body x-data="shopData()" x-cloak>
    <header class="bg-slate-900/80 shadow-lg sticky top-0 z-40 backdrop-blur-md">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8"><div class="flex items-center justify-between h-20"><a href="index.html" class="text-3xl font-bold text-white">HD <span class="text-primary">Sports</span></a><div class="flex items-center space-x-4"><div id="auth-container" class="flex items-center space-x-2"></div><button @click="openCart = true" class="relative text-gray-300 hover:text-primary transition-colors duration-200"><svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" /></svg><span x-show="cartTotalItems > 0" x-transition class="absolute -top-2 -right-2 bg-primary text-white text-xs rounded-full h-5 w-5 flex items-center justify-center" x-text="cartTotalItems"></span></button></div></div></nav>
    </header>

    <main>
        <section id="home" class="relative min-h-[70vh] md:min-h-[80vh] flex items-center justify-center text-center bg-cover bg-center" style="background-image: linear-gradient(to top, rgba(15, 23, 42, 1), rgba(15, 23, 42, 0.7)), url('https://images.unsplash.com/photo-1542291026-7eec264c27ff?auto=format&fit=crop&q=80&w=2070&ixlib=rb-4.0.3');">
            <div class="container mx-auto px-4"><h1 class="text-4xl md:text-6xl font-extrabold text-white leading-tight mb-4">Nâng Tầm Giới Hạn Của Bạn</h1><p class="text-lg md:text-xl text-slate-300 mb-8 max-w-2xl mx-auto">Khám phá bộ sưu tập quần áo, giày và dụng cụ thể thao cao cấp nhất.</p><div class="max-w-xl mx-auto relative"><input @keydown.enter="document.getElementById('all-products').scrollIntoView()" type="text" x-model="searchTerm" placeholder="Tìm kiếm sản phẩm bạn muốn..." class="w-full bg-slate-800/50 border border-slate-600 rounded-full py-4 px-6 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all duration-200 backdrop-blur-sm"><svg class="w-5 h-5 text-slate-400 absolute right-6 top-1/2 -translate-y-1/2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div></div>
        </section>

        <section id="services" class="py-16 bg-slate-800/50">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8 text-center">
                    <div class="p-4"><div class="w-12 h-12 mx-auto mb-3 flex items-center justify-center text-primary"><svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg></div><h3 class="font-semibold text-white">Chất lượng Đảm bảo</h3><p class="text-sm text-slate-400 mt-1">Sản phẩm chính hãng, chất lượng cao.</p></div>
                    <div class="p-4"><div class="w-12 h-12 mx-auto mb-3 flex items-center justify-center text-primary"><svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" /></svg></div><h3 class="font-semibold text-white">Thanh toán An toàn</h3><p class="text-sm text-slate-400 mt-1">Bảo mật thông tin thanh toán tuyệt đối.</p></div>
                    <div class="p-4"><div class="w-12 h-12 mx-auto mb-3 flex items-center justify-center text-primary"><svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10l2 2h8a1 1 0 001-1zM3 18h6" /></svg></div><h3 class="font-semibold text-white">Giao hàng Nhanh chóng</h3><p class="text-sm text-slate-400 mt-1">Vận chuyển toàn quốc trong thời gian ngắn.</p></div>
                    <div class="p-4"><div class="w-12 h-12 mx-auto mb-3 flex items-center justify-center text-primary"><svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg></div><h3 class="font-semibold text-white">Hỗ trợ 24/7</h3><p class="text-sm text-slate-400 mt-1">Luôn sẵn sàng giải đáp mọi thắc mắc.</p></div>
                </div>
            </div>
        </section>

        <section id="categories-products" class="py-20 bg-slate-900 space-y-20">
            <!-- Áo Đấu Mới Nhất -->
            <div x-show="!isLoading && getProductsByCategory('Áo đấu – Áo CLB/Đội tuyển').length > 0" x-cloak>
                <div class="container mx-auto px-4 sm:px-6 lg:px-8"><h2 class="text-3xl font-bold text-white mb-6">Áo Đấu Mới Nhất</h2></div>
                <div class="horizontal-scroll pb-6 pl-4 sm:pl-6 lg:pl-8 xl:pl-container">
                    <template x-for="product in getProductsByCategory('Áo đấu – Áo CLB/Đội tuyển')" :key="product.id">
                        <div @click="openDetailModal(product)" class="bg-slate-800 rounded-lg overflow-hidden shadow-lg card-hover flex flex-col cursor-pointer group w-full">
                            <div class="relative"><img :src="product.imageUrl" :alt="product.name" class="w-full h-80 object-cover transition-transform duration-300 group-hover:scale-105"><div class="absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center"><div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm"><svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" /></svg></div></div></div>
                            <div class="p-4 flex flex-col flex-grow"><h3 class="text-base font-semibold text-white mt-1 mb-2 flex-grow" x-text="product.name"></h3><div class="mt-4 flex items-center justify-between"><span class="text-lg font-bold text-primary" x-text="formatCurrency(product.price)"></span></div></div>
                        </div>
                    </template>
                </div>
            </div>
            
            <!-- Giày Nổi Bật -->
            <div x-show="!isLoading && getProductsByCategory('Giày thể thao').length > 0" x-cloak>
                <div class="container mx-auto px-4 sm:px-6 lg:px-8"><h2 class="text-3xl font-bold text-white mb-6">Giày Nổi Bật</h2></div>
                <div class="horizontal-scroll pb-6 pl-4 sm:pl-6 lg:pl-8 xl:pl-container">
                     <template x-for="product in getProductsByCategory('Giày thể thao')" :key="product.id">
                        <div @click="openDetailModal(product)" class="bg-slate-800 rounded-lg overflow-hidden shadow-lg card-hover flex flex-col cursor-pointer group w-full">
                            <div class="relative"><img :src="product.imageUrl" :alt="product.name" class="w-full h-80 object-cover transition-transform duration-300 group-hover:scale-105"><div class="absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center"><div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm"><svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" /></svg></div></div></div>
                            <div class="p-4 flex flex-col flex-grow"><h3 class="text-base font-semibold text-white mt-1 mb-2 flex-grow" x-text="product.name"></h3><div class="mt-4 flex items-center justify-between"><span class="text-lg font-bold text-primary" x-text="formatCurrency(product.price)"></span></div></div>
                        </div>
                    </template>
                </div>
            </div>
            
            <!-- Tất cả sản phẩm -->
            <div id="all-products" class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex flex-col sm:flex-row justify-between sm:items-center mb-12">
                    <h2 class="text-3xl font-bold text-white" x-text="searchTerm ? 'Kết quả tìm kiếm' : 'Khám phá tất cả'"></h2>
                    <div class="mt-4 sm:mt-0 flex items-center space-x-2 bg-slate-800 p-1 rounded-full">
                        <button @click="setCategory('Tất cả')" class="px-4 py-1.5 text-sm rounded-full transition-colors" :class="activeCategory === 'Tất cả' ? 'bg-primary text-white' : 'text-slate-300 hover:bg-slate-700'">Tất cả</button>
                        <template x-for="cat in categories.filter(c => c.name !== 'Tất cả')" :key="cat.name">
                             <button @click="setCategory(cat.name)" class="px-4 py-1.5 text-sm rounded-full transition-colors" :class="activeCategory === cat.name ? 'bg-primary text-white' : 'text-slate-300 hover:bg-slate-700'" x-text="cat.name.split('–')[0].trim()"></button>
                        </template>
                    </div>
                </div>
                <div x-show="!isLoading && filteredProducts.length === 0" class="text-center text-slate-400 mt-8 bg-slate-800 p-8 rounded-lg"><p class="text-xl">Không tìm thấy sản phẩm nào.</p><p class="mt-2">Hãy thử thay đổi bộ lọc hoặc từ khóa tìm kiếm của bạn.</p></div>
                <div x-show="!isLoading" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6">
                    <template x-for="product in filteredProducts" :key="product.id">
                        <div @click="openDetailModal(product)" class="bg-slate-800 rounded-lg overflow-hidden shadow-lg card-hover flex flex-col cursor-pointer group">
                            <div class="relative"><img :src="product.imageUrl" :alt="product.name" class="w-full h-56 object-cover transition-transform duration-300 group-hover:scale-105"><div class="absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center"><div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm"><svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" /></svg></div></div></div>
                            <div class="p-4 flex flex-col flex-grow"><p class="text-xs text-slate-400" x-text="product.category"></p><h3 class="text-base font-semibold text-white mt-1 mb-2 flex-grow" x-text="product.name"></h3><div class="mt-4 flex items-center justify-between"><span class="text-lg font-bold text-primary" x-text="formatCurrency(product.price)"></span></div></div>
                        </div>
                    </template>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-slate-900 border-t border-slate-800">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div><h3 class="text-2xl font-bold text-white">HD <span class="text-primary">Sports</span></h3><p class="text-slate-400 mt-2 text-sm">Cung cấp sản phẩm thể thao chất lượng cao, chính hãng.</p></div>
                <div><h4 class="font-semibold text-white">Về chúng tôi</h4><ul class="mt-4 space-y-2 text-sm text-slate-400"><li class="hover:text-primary transition-colors"><a href="#">Giới thiệu</a></li><li class="hover:text-primary transition-colors"><a href="#">Tuyển dụng</a></li><li class="hover:text-primary transition-colors"><a href="#">Điều khoản</a></li></ul></div>
                <div><h4 class="font-semibold text-white">Hỗ trợ</h4><ul class="mt-4 space-y-2 text-sm text-slate-400"><li class="hover:text-primary transition-colors"><a href="#">Trung tâm trợ giúp</a></li><li class="hover:text-primary transition-colors"><a href="#">Chính sách bảo mật</a></li><li class="hover:text-primary transition-colors"><a href="#">Liên hệ</a></li></ul></div>
                <div><h4 class="font-semibold text-white">Kết nối</h4><div class="flex space-x-4 mt-4 text-slate-400"><a href="#" class="hover:text-primary transition-colors"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" /></svg></a><a href="#" class="hover:text-primary transition-colors"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.024.048-1.378.06-3.808.06s-2.784-.012-3.808-.06c-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.048-1.024-.06-1.378-.06-3.808s.012-2.784.06-3.808c.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 016.345 2.525c.636-.247 1.363-.416 2.427-.465C9.793 2.013 10.147 2 12.315 2zm-1.161 1.044c-1.042.046-1.665.207-2.19.412a3.89 3.89 0 00-1.424 1.424c-.205.525-.366 1.148-.412 2.19-.046 1.02-.058 1.35-.058 3.808s.012 2.788.058 3.808c.046 1.042.207 1.665.412 2.19a3.89 3.89 0 001.424 1.424c.525.205 1.148.366 2.19.412 1.02.046 1.35.058 3.808.058s2.788-.012 3.808-.058c1.042-.046 1.665-.207 2.19-.412a3.89 3.89 0 001.424-1.424c.205-.525.366-1.148.412-2.19.046-1.02.058-1.35.058-3.808s-.012-2.788-.058-3.808c-.046-1.042-.207-1.665-.412-2.19a3.89 3.89 0 00-1.424-1.424c-.525-.205-1.148-.366-2.19-.412-1.02-.046-1.35-.058-3.808-.058zM12 8.327a3.673 3.673 0 100 7.346 3.673 3.673 0 000-7.346zm0 5.827a2.153 2.153 0 110-4.306 2.153 2.153 0 010 4.306zm5.827-6.23a1.278 1.278 0 100 2.556 1.278 1.278 0 000-2.556z" clip-rule="evenodd" /></svg></a></div></div>
            </div>
            <div class="mt-8 border-t border-slate-800 pt-8 text-center text-sm text-slate-400"><p>&copy; 2025 HD Sports. All rights reserved.</p></div>
        </div>
    </footer>

    <!-- Modals -->
    <div x-show="openCart" class="fixed inset-0 overflow-hidden z-50" aria-modal="true" style="display: none;"><div class="absolute inset-0 overflow-hidden"><div x-show="openCart" x-transition.opacity.duration.300ms class="absolute inset-0 bg-black/60 backdrop-blur-sm" @click="openCart = false"></div><div class="fixed inset-y-0 right-0 pl-10 max-w-full flex"><div x-show="openCart" x-transition:enter="transform transition ease-in-out duration-300" x-transition:enter-start="translate-x-full" x-transition:enter-end="translate-x-0" x-transition:leave="transform transition ease-in-out duration-300" x-transition:leave-start="translate-x-0" x-transition:leave-end="translate-x-full" class="w-screen max-w-md"><div class="h-full flex flex-col bg-slate-900 shadow-xl overflow-y-scroll"><div class="flex-1 py-6 overflow-y-auto px-4 sm:px-6"><div class="flex items-start justify-between"><h2 class="text-lg font-medium text-white">Giỏ Hàng</h2><div class="ml-3 h-7 flex items-center"><button type="button" class="-m-2 p-2 text-gray-400 hover:text-white" @click="openCart = false"><svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg></button></div></div><div class="mt-8"><div class="flow-root"><ul role="list" class="-my-6 divide-y divide-slate-700"><p x-show="cart.length === 0" class="text-slate-400 text-center py-10">Giỏ hàng của bạn đang trống.</p><template x-for="(item, index) in cart" :key="index"><li class="py-6 flex"><div class="flex-shrink-0 w-24 h-24 border border-slate-700 rounded-md overflow-hidden"><img :src="item.imageUrl" :alt="item.name" class="w-full h-full object-center object-cover"></div><div class="ml-4 flex-1 flex flex-col"><div><div class="flex justify-between text-base font-medium text-white"><h3><a href="#" x-text="item.name"></a></h3><p class="ml-4" x-text="formatCurrency(item.price * item.quantity)"></p></div><div x-show="item.selectedOptions && Object.keys(item.selectedOptions).length > 0" class="mt-1 text-sm text-slate-400" x-text="Object.entries(item.selectedOptions).map(([key, value]) => `${key}: ${value}`).join(', ')"></div><p x-show="item.printing_notes" class="mt-1 text-sm text-orange-400" x-text="`In: ${item.printing_notes}`"></p></div><div class="flex-1 flex items-end justify-between text-sm"><div class="flex items-center"><button @click="updateQuantity(index, item.quantity - 1)" class="px-2 text-slate-400">-</button><p class="text-slate-300 mx-2" x-text="item.quantity"></p><button @click="updateQuantity(index, item.quantity + 1)" class="px-2 text-slate-400">+</button></div><div class="flex"><button type="button" @click="removeFromCart(index)" class="font-medium text-primary hover:text-orange-400">Xóa</button></div></div></div></li></template></ul></div></div></div><div x-show="cart.length > 0" class="border-t border-slate-700 py-6 px-4 sm:px-6"><div class="flex justify-between text-base font-medium text-white"><p>Tổng cộng</p><p x-text="formatCurrency(totalPrice)"></p></div><div class="mt-6"><a href="checkout.html" class="flex justify-center items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-primary bg-primary-hover">Thanh Toán</a></div><div class="mt-6 flex justify-center text-sm text-center text-slate-400"><p>hoặc <button type="button" class="font-medium text-primary hover:text-orange-400" @click="openCart = false">Tiếp tục mua sắm &rarr;</button></p></div></div></div></div></div></div></div>
    
    <div x-show="isDetailModalOpen" @keydown.escape.window="isDetailModalOpen = false" class="fixed inset-0 z-50 overflow-y-auto" style="display: none;" x-cloak>
        <div class="flex items-center justify-center min-h-screen px-4 py-8">
            <div x-show="isDetailModalOpen" x-transition.opacity class="fixed inset-0 bg-black/60 backdrop-blur-sm" @click="isDetailModalOpen = false"></div>
            <div x-show="isDetailModalOpen" x-transition class="relative bg-slate-800 border border-slate-700 rounded-lg shadow-xl w-full max-w-4xl m-4 grid grid-cols-1 md:grid-cols-2 gap-8 p-6">
                <img :src="selectedProduct.imageUrl" :alt="selectedProduct.name" class="w-full h-auto max-h-[70vh] object-cover rounded-lg">
                <div class="flex flex-col"><h3 class="text-2xl font-bold text-white" x-text="selectedProduct.name"></h3><p class="text-3xl font-bold text-primary mt-2" x-text="formatCurrency(selectedProduct.price)"></p><div class="space-y-4 mt-6"><div x-show="selectedProduct.availableSizes"><p class="font-medium text-slate-300">Size</p><div class="flex flex-wrap gap-2"><template x-for="size in selectedProduct.availableSizes.split(',').map(s => s.trim())" :key="size"><button @click="selectedOptions.Size = size" :class="{'selected': selectedOptions.Size === size}" class="option-btn" x-text="size"></button></template></div></div><div x-show="selectedProduct.availableColors"><p class="font-medium text-slate-300">Màu sắc</p><div class="flex flex-wrap gap-2"><template x-for="color in selectedProduct.availableColors.split(',').map(c => c.trim())" :key="color"><button @click="selectedOptions.Color = color" :class="{'selected': selectedOptions.Color === color}" class="option-btn" x-text="color"></button></template></div></div><div x-show="selectedProduct.hasVersionOption"><p class="font-medium text-slate-300">Phiên bản</p><div class="flex flex-wrap gap-2"><template x-for="version in ['Sân nhà', 'Sân khách', 'Thứ 3']"><button @click="selectedOptions.Version = version" :class="{'selected': selectedOptions.Version === version}" class="option-btn" x-text="version"></button></template></div></div></div><div class="mt-auto pt-6"><button @click="addToCartFromDetail()" class="btn btn-primary w-full">Thêm vào giỏ hàng</button></div></div>
            </div>
        </div>
    </div>

    <div x-show="isPrintingModalOpen" @keydown.escape.window="isPrintingModalOpen = false" class="fixed inset-0 z-50 overflow-y-auto" style="display: none;" x-cloak>
        <div class="flex items-center justify-center min-h-screen px-4">
            <div x-show="isPrintingModalOpen" x-transition.opacity class="fixed inset-0 bg-black/60 backdrop-blur-sm"></div>
            <div x-show="isPrintingModalOpen" x-transition class="relative bg-slate-800 border border-slate-700 rounded-lg shadow-xl w-full max-w-md p-6">
                <h3 class="text-xl font-bold text-white mb-2">Yêu cầu In ấn</h3><p class="text-slate-400 text-sm mb-4">Nhập thông tin bạn muốn in lên áo.</p>
                <form @submit.prevent="confirmPrintingAndAddToCart" class="space-y-4">
                    <div><label class="block text-slate-400 mb-1 text-sm">Tên in trên áo</label><input type="text" x-model="printingDetails.name" placeholder="Vd: RONALDO" class="input-field w-full"></div>
                    <div><label class="block text-slate-400 mb-1 text-sm">Số áo</label><input type="number" x-model="printingDetails.number" placeholder="Vd: 7" class="input-field w-full"></div>
                    <div class="flex justify-end space-x-3 pt-4"><button type="button" @click="isPrintingModalOpen = false; finalizeAddToCart({ ...selectedProduct, quantity: 1, selectedOptions: selectedOptions, printing_notes: '' })" class="btn btn-secondary">Bỏ qua</button><button type="submit" class="btn btn-primary">Xác nhận</button></div>
                </form>
            </div>
        </div>
    </div>

    <div id="toast" class="toast"><span id="toast-message"></span></div>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="./js/firebase-config.js"></script>
    <script src="./js/auth.js"></script>
    <script src="./js/main.js"></script>
</body>
</html>
